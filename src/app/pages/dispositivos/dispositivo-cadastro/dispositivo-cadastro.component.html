<div class="row">
    <div class="col">
        <h2>Cadastro de Dispositivos</h2>
    </div>
    <div class="col position-relative">
        <div class="chave-existe position-absolute top-0 end-0" [hidden]="!dispositivoAtualJaCadastrado">
            <p class="px-3">Dispositivo Atual Cadastrado</p>
        </div>
        <div class="chave-indisponivel position-absolute top-0 end-0" [hidden]="dispositivoAtualJaCadastrado">
            <p class="px-3">Dispositivo Atual Disponível</p>
        </div>
    </div>
</div>

<h3>Informações Técnicas</h3>

<div class="row">
    <div class="col-sm-4">
        <mat-form-field appearance="outline">
            <mat-label>Filial de Vinculação</mat-label>
            <mat-select [(value)]="form.filialId" required [disabled]="idDispositivo === undefined? false:true">
                <mat-option *ngFor="let filial of filiais" [value]="filial.filialForm.id">
                    {{ filial.filialForm.razaoSocial }}
                </mat-option>
            </mat-select>
        </mat-form-field>
    </div>
    <div class="col-sm-4">
        <mat-form-field appearance="outline">
            <mat-label>Nome</mat-label>
            <input matInput type="text" [(ngModel)]="form.nome" required [disabled]="idDispositivo === undefined? false:true">
            <button mat-button *ngIf="form.nome" matSuffix mat-icon-button aria-label="Clear" (click)="form.nome=''" [disabled]="idDispositivo === undefined? false:true">
                <mat-icon>close</mat-icon>
            </button>
        </mat-form-field>
    </div>
    <div class="col-sm-2">
        <mat-form-field appearance="outline">
            <mat-label>Data de Expiração</mat-label>
            <input matInput [matDatepicker]="pickerDataExpiracao" [(ngModel)]="form.dataExpiracao">
            <mat-datepicker-toggle matSuffix [for]="pickerDataExpiracao"></mat-datepicker-toggle>
            <mat-datepicker #pickerDataExpiracao></mat-datepicker>
        </mat-form-field>
    </div>
    <div class="col-sm-2">
        <mat-checkbox class="example-margin" [(ngModel)]="form.bloqueado">Bloqueado</mat-checkbox>
    </div>
</div>

<button mat-raised-button type="button" color="primary" (click)="onSave()">Salvar</button>
<button mat-raised-button type="button" color="accent" [routerLink]=" ['/dispositivos'] ">Voltar</button>
<button mat-raised-button type="button" color="warn" [hidden]="idDispositivo === undefined? true:false" (click)="onDelete()">Deletar</button>